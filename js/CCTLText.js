function CTLText(t,i,e,h,s,_,n,o,a,x,u,g,d,r,T,l,c){this._oContainer=t,this._x=i,this._y=e,this._iWidth=h,this._iHeight=s,this._bMultiline=l,this._iFontSize=_,this._szAlign=n,this._szColor=o,this._szFont=a,this._iPaddingH=u,this._iPaddingV=g,this._bVerticalAlign=T,this._bFitText=r,this._bDebug=c,this._oDebugShape=null,this._fLineHeightFactor=x,this._oText=null,d&&this.__createText(d)}CTLText.prototype={constructor:CTLText,__autofit:function(){if(this._bFitText){for(var t=this._iFontSize;(this._oText.getBounds().height>this._iHeight-2*this._iPaddingV||this._oText.getBounds().width>this._iWidth-2*this._iPaddingH)&&(this._oText.font=--t+"px "+this._szFont,this._oText.lineHeight=Math.round(t*this._fLineHeightFactor),this.__updateY(),this.__verticalAlign(),!(t<8)););this._iFontSize=t}},__verticalAlign:function(){var t;this._bVerticalAlign&&(t=this._oText.getBounds().height,this._oText.y-=(t-this._iHeight)/2+this._iPaddingV)},__updateY:function(){this._oText.y=this._y+this._iPaddingV,"middle"===this._oText.textBaseline&&(this._oText.y+=this._oText.lineHeight/2+(this._iFontSize*this._fLineHeightFactor-this._iFontSize))},__createText:function(t){switch(this._bDebug&&(this._oDebugShape=new createjs.Shape,this._oDebugShape.graphics.beginFill("rgba(255,0,0,0.5)").drawRect(this._x,this._y,this._iWidth,this._iHeight),this._oContainer.addChild(this._oDebugShape)),this._oText=new createjs.Text(t,this._iFontSize+"px "+this._szFont,this._szColor),this._oText.textBaseline="middle",this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor),this._oText.textAlign=this._szAlign,this._bMultiline?this._oText.lineWidth=this._iWidth-2*this._iPaddingH:this._oText.lineWidth=null,this._szAlign){case"center":this._oText.x=this._x+this._iWidth/2;break;case"left":this._oText.x=this._x+this._iPaddingH;break;case"right":this._oText.x=this._x+this._iWidth-this._iPaddingH}this._oContainer.addChild(this._oText),this.refreshText(t)},setVerticalAlign:function(t){this._bVerticalAlign=t},setOutline:function(t){null!==this._oText&&(this._oText.outline=t)},setShadow:function(t,i,e,h){null!==this._oText&&(this._oText.shadow=new createjs.Shadow(t,i,e,h))},setColor:function(t){this._oText.color=t},setAlpha:function(t){this._oText.alpha=t},setY:function(t){this._oText.y=t,this._y=t,this.updateDebug()},setX:function(t){this._oText.x=t,this._x=t,this.updateDebug()},updateDebug:function(){this._bDebug&&(this._oDebugShape.graphics.command.x=this._x,this._oDebugShape.graphics.command.y=this._y)},setOffsetX:function(t){this._oText.x+=t,this._x=this._oText.x,this.updateDebug()},setOffsetY:function(t){this._oText.y+=t,this._y=this._oText.y,this.updateDebug()},removeTweens:function(){createjs.Tween.removeTweens(this._oText)},getText:function(){return this._oText},getY:function(){return this._y},getBounds:function(){return this._oText.getBounds()},getFontSize:function(){return this._iFontSize},refreshText:function(t){""===t&&(t=" "),null===this._oText&&this.__createText(t),this._oText.text=t,this._oText.font=this._iFontSize+"px "+this._szFont,this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor),this.__autofit(),this.__updateY(),this.__verticalAlign()}};