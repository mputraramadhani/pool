function CInterface(e){var i,s,l,u,o,r,c,d,_=null,a=null;return this._init=function(e){s=e,i=new createjs.Container,s.addChild(i);var t=s_oSpriteLibrary.getSprite("but_exit");s={x:CANVAS_WIDTH-t.width/2-10,y:t.height/2+10},(u=new CGfxButton(s.x,s.y,t,i)).addEventListener(ON_MOUSE_UP,this._onExit,this),l=!1===DISABLE_SOUND_MOBILE||!1===s_bMobile?(l={x:s.x-t.width,y:s.y},t=s_oSpriteLibrary.getSprite("audio_icon"),(o=new CToggle(l.x,l.y,t,s_bAudioActive,i)).addEventListener(ON_MOUSE_UP,this._onAudioToggle,this),{x:l.x-t.width/2,y:l.y}):{x:s.x-t.width,y:s.y};var n=window.document,e=n.documentElement;_=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen,a=n.exitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen||n.msExitFullscreen,(_=!1===ENABLE_FULLSCREEN?!1:_)&&screenfull.isEnabled&&(t=s_oSpriteLibrary.getSprite("but_fullscreen"),(r=new CToggle(l.x,l.y,t,s_bFullscreen,i)).addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));t=s_oSpriteLibrary.getSprite("but_settings");(c=new CGUIExpandible(s.x,s.y,t,i)).addButton(u),!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||c.addButton(o),_&&screenfull.isEnabled&&c.addButton(r),d=new CBallSpinGUI(CANVAS_WIDTH/2-480,CANVAS_HEIGHT-115,i),this.refreshButtonPos()},this.unload=function(){u.unload(),u=null,c.unload(),d.unload(),!1===DISABLE_SOUND_MOBILE&&(o.unload(),o=null),_&&screenfull.isEnabled&&r.unload(),i.removeAllChildren(),s_oInterface=null},this.refreshButtonPos=function(){c.refreshPos(),d.refreshOffsetPos(0,.5*-s_iOffsetY)},this.resetSpin=function(){d.resetSpin()},this.getSideSpin=function(){return d.getSideSpin()},this.getBackSpin=function(){return d.getBackSpin()},this.setSideSpin=function(e){d.setSideSpin(e)},this._onExit=function(){s_oGame.onExit()},this._onAudioToggle=function(){Howler.mute(s_bAudioActive),s_bAudioActive=!s_bAudioActive},this.resetFullscreenBut=function(){_&&screenfull.isEnabled&&r.setActive(s_bFullscreen)},this._onFullscreenRelease=function(){s_bFullscreen?a.call(window.document):_.call(window.document.documentElement),sizeHandler()},(s_oInterface=this)._init(e),this}var s_oInterface=null;