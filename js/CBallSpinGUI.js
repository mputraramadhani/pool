function CBallSpinGUI(i,e,t){var a,r,s,o,c,h,l,g,d=t;this._init=function(i,e){(l=new createjs.Container).x=i,l.y=e,d.addChild(l);var t=s_oSpriteLibrary.getSprite("ball_spin_gui");(o=createBitmap(t)).regX=t.width/2,o.regY=t.height/2,(c=new createjs.Shape).graphics.beginFill("#fff").drawCircle(0,0,MAX_SPIN_VALUE),c.alpha=.01,s=c.on("click",this._onRelease,this),l.addChild(o,c);var n=s_oSpriteLibrary.getSprite("ball_spin_token");(h=createBitmap(n)).regX=n.width/2,h.regY=n.height/2,h.x=0,h.y=0,l.addChild(h),a=t.width/2,r=new CVector2(i,e),g={x:l.x,y:l.y}},this.unload=function(){c.off("click",s)},this._onRelease=function(i){var e;s_iPlayerMode===GAME_MODE_CPU&&2===s_oGame.getCurTurn()||(e=o.globalToLocal(i.stageX,i.stageY),distance(new CVector2(i.stageX,i.stageY),r)<a&&(h.x=e.x-a,h.y=e.y-a))},this.resetSpin=function(){h.x=0,h.y=0},this.setSideSpin=function(i){h.x=i},this.setBackSpin=function(i){h.y=i},this.getSideSpin=function(){return-h.x},this.getBackSpin=function(){return-h.y},this.refreshOffsetPos=function(i,e){l.x=g.x+i,l.y=g.y+e,r.set(l.x,l.y)},this._init(i,e)}