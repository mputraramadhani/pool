function CPreloader(){var r,a,t,i,s,d;this._init=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this),s_oSpriteLibrary.addSprite("progress_bar","./sprites/progress_bar.webp"),s_oSpriteLibrary.addSprite("mask_progress_bar","./sprites/mask_progress_bar.webp"),s_oSpriteLibrary.addSprite("200x200","./sprites/200x200.webp"),s_oSpriteLibrary.loadSprites(),d=new createjs.Container,s_oStage.addChild(d)},this.unload=function(){d.removeAllChildren()},this._onImagesLoaded=function(){},this._onAllImagesLoaded=function(){this.attachSprites(),s_oMain.preloaderReady()},this.attachSprites=function(){var e=new createjs.Shape;e.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),e.cache(0,0,CANVAS_WIDTH,CANVAS_HEIGHT),d.addChild(e);e=s_oSpriteLibrary.getSprite("200x200");(i=createBitmap(e)).regX=.5*e.width,i.regY=.5*e.height,i.x=CANVAS_WIDTH/2,i.y=CANVAS_HEIGHT/2-80,d.addChild(i),(s=new createjs.Shape).graphics.beginFill("rgba(0,0,0,0.01)").drawRoundRect(i.x-100,i.y-100,200,200,10),d.addChild(s),i.mask=s;e=s_oSpriteLibrary.getSprite("progress_bar");(a=createBitmap(e)).x=CANVAS_WIDTH/2-e.width/2,a.y=CANVAS_HEIGHT/2+70,d.addChild(a),s=e.width,e.height,(t=createBitmap(s_oSpriteLibrary.getSprite("mask_progress_bar"))).x=a.x+s,t.y=a.y,t.regX=s,d.addChild(t),a.mask=t,(r=new createjs.Text("        ","30px "+FONT_GAME,"#fff")).x=CANVAS_WIDTH/2,r.y=CANVAS_HEIGHT/2+120,r.textBaseline="alphabetic",r.textAlign="center",d.addChild(r);e=r.getBounds();r.cache(e.x,e.y,e.width,e.height)},this.refreshLoader=function(e){r.text=e+"%",r.uncache();var i=r.getBounds();r.cache(i.x,i.y,i.width,i.height),100===e&&(s_oMain._allResourcesLoaded(),r.visible=!1,a.visible=!1),t.scaleX=1-e/100},this._init()}